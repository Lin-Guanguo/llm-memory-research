# Cursor AI Technical Research

Last Updated: 2025-12-17

> **Research Methodology**: This document was generated by Claude Code using the chrome-devtools MCP server to explore and extract information from the Cursor documentation website.

## Overview

Cursor is an AI-powered code editor built on VS Code, designed to understand codebases and help developers write code faster through natural language interactions. This document summarizes the publicly available AI-related technical information from the official Cursor documentation.

**Source**: [Cursor Documentation](https://cursor.com/docs) (accessed: 2025-12-17)

---

## 1. Supported Models

Cursor supports all frontier coding models from major providers. Models have different capabilities:

### Model Capabilities
- **Agent capability**: Can use tools (file operations, terminal, web search)
- **Thinking capability**: Uses reasoning tokens for complex tasks
- **Image capability**: Accepts image inputs for multimodal tasks

### Model List by Provider

| Provider | Model | Default Context | Max Mode | Capabilities |
|----------|-------|-----------------|----------|--------------|
| **Anthropic** | Claude 4.5 Opus | 200k | 200k | Agent, Thinking, Image |
| **Anthropic** | Claude 4.5 Sonnet | 200k | 1M | Agent, Thinking, Image |
| **Anthropic** | Claude 4 Opus | - | 200k | Agent, Thinking, Image |
| **Anthropic** | Claude 4 Sonnet | 200k | - | Agent, Thinking, Image |
| **Anthropic** | Claude 4.5 Haiku | 200k | - | Thinking, Image |
| **Cursor** | Composer 1 | 200k | - | Agent, Image |
| **Google** | Gemini 3 Pro | 200k | 1M | Agent, Thinking, Image |
| **Google** | Gemini 2.5 Flash | 200k | 1M | Agent, Thinking, Image |
| **OpenAI** | GPT-5.2 | 272k | - | Agent, Thinking, Image |
| **OpenAI** | GPT-5.1 Codex Max | 272k | - | Agent, Thinking, Image |
| **OpenAI** | GPT-5 | 272k | - | Agent, Thinking, Image |
| **OpenAI** | GPT 4.1 | 200k | 1M | Agent, Image |
| **OpenAI** | o3 | 200k | - | Agent, Thinking, Image |
| **xAI** | Grok Code | 256k | - | Agent, Thinking |
| **xAI** | Grok 4 | 256k | - | Agent, Thinking, Image |
| **xAI** | Grok 4 Fast | 200k | 2M | Agent, Thinking, Image |
| **DeepSeek** | Deepseek R1 | 60k | - | Thinking |
| **DeepSeek** | Deepseek V3.1 | 60k | - | Agent |

### Model Pricing (per million tokens)

| Model | Input | Cache Write | Cache Read | Output |
|-------|-------|-------------|------------|--------|
| Claude 4.5 Opus | $5 | $6.25 | $0.5 | $20 |
| Claude 4.5 Sonnet | $3 | $3.75 | $0.3 | $15 |
| Composer 1 | $1.25 | $1.25 | $0.125 | $10 |
| Gemini 3 Pro | $2 | $2 | $0.2 | $12 |
| GPT-5.1 Codex Max | $1.25 | $1.25 | $0.125 | $10 |
| GPT-5.2 | $1.75 | $1.75 | $0.175 | $14 |
| Grok Code | $0.2 | $0.2 | $0.02 | $1.5 |

### Auto Mode
Cursor can automatically select the best model for the immediate task based on:
- Task requirements
- Model reliability
- Current demand
- Degraded output detection with automatic model switching

### Context Windows
- Default context window: 200k tokens (~15,000 lines of code)
- **Max Mode**: Extends context window to model maximum (up to 2M for Grok 4 Fast)
- Each chat maintains its own context window

---

## 2. Cursor Agent

Agent is Cursor's AI assistant that can complete complex coding tasks independently. Access via `Cmd+I`.

### Core Capabilities

| Feature | Description |
|---------|-------------|
| **Browser Control** | Interact with web browsers to test applications, gather information |
| **Terminal Execution** | Run commands, monitor output, handle multi-step processes |
| **File Operations** | Read, edit, create, delete files across the codebase |
| **Code Review (Diffs)** | Examine changes before accepting, color-coded additions/deletions |
| **Checkpoints** | Automatic snapshots to restore previous states |
| **Planning (Todos)** | Create structured task lists for complex projects |
| **Parallel Conversations** | Run multiple chats simultaneously with `Cmd+T` |

### Agent Tools

#### Search Tools
| Tool | Function |
|------|----------|
| Read File | Read file contents |
| List Directory | List directory contents |
| Codebase | Semantic search across codebase |
| Grep | Text pattern search |
| Search Files | Find files by name/pattern |
| Web | Search the web |
| Fetch Rules | Get project rules |

#### Edit Tools
| Tool | Function |
|------|----------|
| Edit & Reapply | Make specific edits to files |
| Delete File | Remove files from codebase |

#### Run Tools
| Tool | Function |
|------|----------|
| Terminal | Execute shell commands |

### Advanced Options
- **Auto-apply Edits**: Automatically apply suggested changes
- **Auto-run**: Run commands without confirmation
- **Guardrails**: Safety limits on agent actions
- **Auto-fix Errors**: Automatically fix detected errors

### Hooks
Extend Agent capabilities with custom hooks - reusable functions that integrate with workflows and automate tasks.

---

## 3. Tab (Autocomplete)

Tab is a specialized Cursor model for intelligent code completion.

### Features
- **Multi-line editing**: Modify multiple lines at once
- **Auto-import**: Automatically add missing import statements (TypeScript, Python)
- **Jump in file**: Predict next editing location
- **Jump across files**: Context-aware edits across files (portal window)
- **Tab in Peek**: Works in "Go to Definition" views
- **Partial accepts**: Accept word-by-word with `Cmd+Right`

### How It Works
- Suggestions appear as ghost text (new code) or diff popup (modifications)
- Accept with `Tab`, reject with `Escape`
- Learns from accepted/rejected suggestions to improve over time
- Uses recent changes, linter errors, and accepted edits as context

### Settings
| Setting | Description |
|---------|-------------|
| Cursor Tab | Enable context-aware multi-line suggestions |
| Partial Accepts | Accept next word via `Cmd Right` |
| Suggestions While Commenting | Enable Tab inside comment blocks |
| Whitespace-Only Suggestions | Allow formatting-only edits |
| Imports | Enable auto-import for TypeScript |
| Auto Import for Python | Enable auto-import for Python (beta) |

---

## 4. Codebase Indexing

Enables semantic search across workspace files for natural language queries.

### How It Works (7-step process)
1. **File Sync**: Workspace files securely synchronized with Cursor servers
2. **Chunking**: Files broken into meaningful chunks (functions, classes, logical blocks)
3. **AI Embeddings**: Each chunk converted to vector representation
4. **Vector Database**: Embeddings stored in specialized database for fast search
5. **Query Embedding**: Search query converted to vector using same AI models
6. **Similarity Search**: Find most similar code chunks by vector comparison
7. **Results**: Return relevant code snippets ranked by semantic similarity

### Technical Details
- **Automatic sync**: Every 5 minutes
- **Incremental updates**: Only changed files reprocessed
- **Semantic search available**: At 80% indexing completion
- **Batch processing**: Minimal impact on development workflow

### Privacy & Security
- File paths encrypted before transmission
- Code never stored in plaintext on servers
- Code held in memory only during indexing, then discarded
- No permanent storage of source code

### Semantic Search vs Grep
| Feature | Semantic Search | Grep |
|---------|-----------------|------|
| Speed | Faster (pre-computed) | Runtime search |
| Matching | Conceptual similarity | Exact patterns |
| Example | "top navigation" finds `header.tsx` | Only finds exact text |

Agent uses **both** grep and semantic search together for best results.

### Configuration
- Indexes all files except those in `.gitignore`, `.cursorignore`
- View indexed files: `Cursor Settings > Indexing & Docs > View included files`

---

## 5. Model Context Protocol (MCP)

MCP enables Cursor to connect to external tools and data sources.

### Transport Methods

| Transport | Environment | Deployment | Users | Auth |
|-----------|-------------|------------|-------|------|
| **stdio** | Local | Cursor manages | Single | Manual |
| **SSE** | Local/Remote | Deploy as server | Multiple | OAuth |
| **Streamable HTTP** | Local/Remote | Deploy as server | Multiple | OAuth |

### Protocol Support

| Feature | Status | Description |
|---------|--------|-------------|
| Tools | Supported | Functions for AI model to execute |
| Prompts | Supported | Templated messages and workflows |
| Resources | Supported | Structured data sources |
| Roots | Supported | Server-initiated filesystem queries |
| Elicitation | Supported | Server-initiated user information requests |

### Configuration

**Project config**: `.cursor/mcp.json`
**Global config**: `~/.cursor/mcp.json`

#### Example: Node.js CLI Server
```json
{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "mcp-server"],
      "env": {
        "API_KEY": "${env:API_KEY}"
      }
    }
  }
}
```

#### Example: Remote Server
```json
{
  "mcpServers": {
    "server-name": {
      "url": "http://localhost:3000/mcp",
      "headers": {
        "Authorization": "Bearer ${env:MY_SERVICE_TOKEN}"
      }
    }
  }
}
```

### Config Variables
- `${env:NAME}` - Environment variables
- `${userHome}` - Home folder path
- `${workspaceFolder}` - Project root
- `${workspaceFolderBasename}` - Project root name
- `${pathSeparator}` / `${/}` - OS path separator

### Popular MCP Servers
- **Notion**: Notes, docs, project management
- **Context7**: Up-to-date code documentation
- **Figma**: Design and collaboration
- **Linear**: Issue tracking and project management
- **Playwright**: End-to-end browser testing

### Tool Usage
- Agent automatically uses MCP tools when relevant
- Tools can be toggled on/off from chat interface
- Tool approval required by default (can enable auto-run)
- Supports returning images as base64 for multimodal context

---

## 6. Context & Memory Management (Key Technical Focus)

This section details how Cursor manages context and memory - the core technical mechanisms that enable AI to understand and work with codebases effectively.

### 6.1 Context Architecture

**Key Insight**: LLMs don't retain memory between completions. Cursor solves this through multiple context management strategies.

```
┌────────────────────────────────────────────────────────────┐
│                    Context Window                          │
├────────────────────────────────────────────────────────────┤
│  1. System Prompt (Rules)                                  │
│     ├── Team Rules (highest precedence)                    │
│     ├── Project Rules (.cursor/rules/)                     │
│     └── User Rules (global preferences)                    │
├────────────────────────────────────────────────────────────┤
│  2. Conversation History                                   │
│     ├── User messages                                      │
│     ├── AI responses                                       │
│     └── Tool call results                                  │
├────────────────────────────────────────────────────────────┤
│  3. Attached Context                                       │
│     ├── @Files & Folders (explicit)                        │
│     ├── @Code (specific snippets)                          │
│     ├── @Docs (documentation)                              │
│     └── Auto-included (open files, terminal, linter)       │
└────────────────────────────────────────────────────────────┘
```

### 6.2 Rules System (Persistent Context)

Rules provide **persistent, reusable context** at the prompt level - effectively a form of "memory" that persists across sessions.

#### Rule Types & Precedence
```
Team Rules → Project Rules → User Rules
(highest)                    (lowest)
```

| Rule Type | Location | Scope | Applied When |
|-----------|----------|-------|--------------|
| Team Rules | Dashboard | Organization-wide | Always (if enforced) |
| Project Rules | `.cursor/rules/` | Per-project | Always / Intelligent / Pattern / Manual |
| User Rules | Cursor Settings | All projects | Always for Agent |
| AGENTS.md | Project root | Per-project | Always |

#### Project Rules Anatomy
```
.cursor/rules/
  my-rule/
    RULE.md           # Main rule file with frontmatter
    scripts/          # Helper scripts (optional)
```

**RULE.md Format**:
```yaml
---
description: "Rule description for intelligent application"
globs: ["**/*.ts", "**/*.tsx"]  # File pattern matching
alwaysApply: false              # true = every session
---

Rule content in markdown...
```

#### Application Modes
| Mode | Behavior |
|------|----------|
| Always Apply | Included in every chat session |
| Apply Intelligently | Agent decides based on `description` field |
| Apply to Specific Files | When file matches `globs` pattern |
| Apply Manually | Only when `@rule-name` mentioned in chat |

### 6.3 Conversation Summarization

When conversations exceed context window limits, Cursor automatically summarizes older messages.

```
Before Summarization:
┌─────────────────────────────┐
│ User → Cursor → User → ... │ ← Exceeds limit
└─────────────────────────────┘

After Summarization:
┌─────────────────────────────┐
│ [Summarized Messages]       │
│ Recent Cursor response      │
│ Recent User message         │
│ Current Cursor response     │ ← Fits within limit
└─────────────────────────────┘
```

**Manual Trigger**: `/summarize` command compresses context on demand.

### 6.4 File & Folder Condensation

Large files undergo **smart condensation** to fit within context:

| State | Description |
|-------|-------------|
| **Full** | Entire file contents included |
| **Condensed** | Shows key structural elements (function signatures, classes, methods) |
| **Significantly Condensed** | Only file name shown to model |
| **Not Included** | Too large even in condensed form (warning icon shown) |

**Condensation Strategy**:
- Preserve structural elements (signatures, class definitions)
- Model can request expansion of specific sections if needed
- Maximizes effective use of available context window

### 6.5 @ Mentions (Explicit Context Injection)

Users can explicitly inject context into conversations:

| Mention Type | Function |
|--------------|----------|
| `@Files` | Reference entire files |
| `@Folders` | Reference folder structure and contents |
| `@Code` | Reference specific code snippets (more granular than files) |
| `@Docs` | Include documentation (built-in or custom URLs) |

**Folder Navigation**: Type `/` after selecting folder to navigate deeper into subfolders.

### 6.6 Automatic Context Inclusion

Cursor automatically includes relevant context based on editor state:
- **Open files**: Currently visible in editor
- **Terminal output**: Recent command results
- **Linter errors**: Current diagnostics
- **Recent changes**: Git diff context

**Note**: In Cursor 2.0, explicit `@Definitions`, `@Web`, `@Link`, `@Recent Changes`, `@Linter Errors` were removed - Agent now self-gathers this context automatically.

### 6.7 Documentation Memory (@Docs)

External documentation can be indexed and used as context:

1. **Built-in docs**: Popular frameworks pre-indexed
2. **Custom docs**: Add any URL, Cursor crawls and indexes all subpages
3. **Team sharing**: Enable "Share with team" for organization-wide access

**Management**: `Cursor Settings > Indexing & Docs`

### 6.8 Checkpoints (State Snapshots)

Automatic snapshots track Agent's changes - a form of "undo memory":
- Restore previous states if changes don't work
- Try different approaches from same starting point
- Navigate through change history

### 6.9 Context Window Visualization

Real-time context usage shown in chat interface:
```
Context: 45,231 / 200k (23%)
```

- Helps users understand remaining capacity
- Indicates when summarization may occur
- Visible in prompt input area

---

## 7. Rules System (Detailed)

### Rule Configuration

#### Project Rules (.cursor/rules/)
- Version-controlled with project
- Supports scripts and additional files
- Pattern matching via `globs`
- Four application modes

#### Team Rules (Enterprise)
- Managed from Cursor dashboard
- Can be enforced (users cannot disable)
- Plain text format (no metadata)
- Highest precedence

#### User Rules
- Global preferences in Cursor Settings
- Apply across all projects
- Example: communication style, coding conventions

#### AGENTS.md
- Simple markdown alternative to structured rules
- Place in project root
- Supports nested files in subdirectories
- No frontmatter or complex configuration

### Rule Best Practices
- Keep rules under 500 lines
- Split large rules into composable pieces
- Provide concrete examples
- Reference specific files when helpful
- Avoid vague guidance

---

## 8. Inline Edit

Edit selected code with natural language using `Cmd+K`.
- Describe changes in natural language
- See changes applied in place
- Review and accept/reject modifications

---

## 9. Other Features

### Bugbot
Automated bug detection and reporting integrated into Cursor.

### Chat Features
- **History**: Access past conversations with `Opt Cmd '`
- **Export**: Export conversations to markdown
- **Multiple Tabs**: Parallel conversations with independent context

### Integrations
- GitHub
- GitLab
- Slack
- Linear
- Git (native)

### Privacy Model
- Cursor offers BYOK (Bring Your Own Key) option
- Data protection through encryption
- No permanent code storage on servers

---

## 10. Architecture Summary

```
┌─────────────────────────────────────────────────────────────┐
│                      Cursor Editor                          │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────────────┐ │
│  │   Tab   │  │  Agent  │  │ Inline  │  │     Chat        │ │
│  │ (Auto-  │  │ (Multi- │  │  Edit   │  │  (Conversation) │ │
│  │complete)│  │  file)  │  │ (Cmd+K) │  │                 │ │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────────┬────────┘ │
│       │            │            │                │          │
│       └────────────┴────────────┴────────────────┘          │
│                           │                                 │
│              ┌────────────┴────────────┐                    │
│              │     Context Layer       │                    │
│              │  ┌──────────────────┐   │                    │
│              │  │ Codebase Index   │   │                    │
│              │  │ (Vector DB)      │   │                    │
│              │  ├──────────────────┤   │                    │
│              │  │ Rules            │   │                    │
│              │  ├──────────────────┤   │                    │
│              │  │ MCP Servers      │   │                    │
│              │  └──────────────────┘   │                    │
│              └────────────┬────────────┘                    │
└───────────────────────────┼─────────────────────────────────┘
                            │
              ┌─────────────┴─────────────┐
              │      Model Providers      │
              │  ┌─────┐ ┌─────┐ ┌─────┐  │
              │  │Anth-│ │Open │ │Goog-│  │
              │  │ropic│ │ AI  │ │ le  │  │
              │  └─────┘ └─────┘ └─────┘  │
              │  ┌─────┐ ┌─────┐ ┌─────┐  │
              │  │ xAI │ │Deep │ │Curs-│  │
              │  │     │ │Seek │ │ or  │  │
              │  └─────┘ └─────┘ └─────┘  │
              └───────────────────────────┘
```

---

## 11. Key Technical Insights

### Context & Memory Strategy
Cursor's approach to "memory" operates at multiple levels:

1. **Session Memory**: Conversation history within context window
2. **Persistent Memory**: Rules system (Team → Project → User)
3. **Structural Memory**: Codebase indexing with vector embeddings
4. **State Memory**: Checkpoints for change tracking

### Context Window Management
- Default 200k tokens (~15,000 lines of code)
- Max Mode extends to model maximum (up to 2M tokens)
- Automatic summarization when exceeding limits
- Smart condensation for large files (structural elements preserved)

### Memory Hierarchy
```
┌─────────────────────────────────────────┐
│ Long-term: Codebase Index (Vector DB)   │
├─────────────────────────────────────────┤
│ Persistent: Rules (Team/Project/User)   │
├─────────────────────────────────────────┤
│ Session: Conversation + Summarization   │
├─────────────────────────────────────────┤
│ Transient: @ Mentions + Auto Context    │
└─────────────────────────────────────────┘
```

### Semantic Understanding
- AI embeddings capture code meaning, not just text
- Custom-trained models for code retrieval
- Combined grep + semantic search for optimal results
- Intelligent chunking preserves logical code blocks

### Model Selection Strategy
- Auto mode switches models based on task and reliability
- Different models optimized for different tasks (speed vs capability)
- Context window size varies significantly (60k - 2M tokens)

### Extensibility
- MCP protocol for external tool integration
- Custom rules for project-specific behavior
- Hooks for workflow automation
- BYOK for enterprise/privacy requirements

### Privacy Architecture
- Encryption of file paths
- No permanent code storage
- Memory-only processing during indexing
- BYOK option available

---

## References

- [Cursor Documentation](https://cursor.com/docs) (accessed: 2025-12-17)
- [Model Context Protocol](https://modelcontextprotocol.io/introduction)
- [OpenAI Pricing](https://openai.com/api/pricing/)
- [Anthropic Pricing](https://www.anthropic.com/pricing#api)
- [Google Gemini Pricing](https://ai.google.dev/gemini-api/docs/pricing)
- [xAI Pricing](https://docs.x.ai/docs/models)
